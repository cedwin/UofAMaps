var Waypoint=function(){function i(e){if(e.Coord){n.coord(e.Coord)}else if(e.Room){n.room(e.Room)}else if(e.Building){n.building(e.Building)}}function s(t){e.Waypoints.splice(t,1)}function o(t,n){waypoint=e.Waypoints.splice(t,1);e.Waypoints.splice(n,0,waypoint[0])}function u(t){i(t);var n=e.Waypoints.length-1;o(n,0)}function a(n){i(n);if(e.length>2){var r=e.Waypoints.length-1;o(r,r-1)}t=true}function f(){e.Waypoints=[]}var e={Waypoints:[],Options:{accessibility:false,indoors:5}},t=false,n={room:function(t){if(t.name&&t.parent){if(t.parent.Key&&t.parent.Level){e.Waypoints.push(t)}else{}}},building:function(t){if(t.Key&&t.name){e.Waypoints.push(t)}},coord:function(t){if(t.lat&&t.lng){e.Waypoints.push(t)}}},r={setHandicap:function(t){e.Options.accessibility=t},setIndoors:function(t){if(t>0&&t<11){e.Options.indoors=t}}};return{addPoint:i,removePoint:s,Options:{handicap:r.setHandicap,indoorLevel:r.setIndoors},destinationFrom:u,destinationTo:a,movePoint:o,list:e.Waypoints,waypoints:e,reset:f}}(Waypoint||{},jQuery)